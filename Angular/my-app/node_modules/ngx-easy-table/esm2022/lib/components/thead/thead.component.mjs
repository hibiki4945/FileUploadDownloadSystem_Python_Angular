import { ChangeDetectionStrategy, Component, EventEmitter, HostListener, Input, Output, ViewChild, ViewChildren, } from '@angular/core';
import { Event } from '../..';
import { StyleService } from '../../services/style.service';
import { moveItemInArray } from '@angular/cdk/drag-drop';
import * as i0 from "@angular/core";
import * as i1 from "../../services/style.service";
import * as i2 from "@angular/common";
import * as i3 from "@angular/cdk/drag-drop";
import * as i4 from "../header/header.component";
class TableTHeadComponent {
    onClick(targetElement) {
        if (this.additionalActionMenu &&
            !this.additionalActionMenu.nativeElement.contains(targetElement)) {
            this.menuActive = false;
        }
        // if click outside the header then close opened Header Action Template
        if (this.openedHeaderActionTemplate &&
            // if no header have the clicked point
            !this.headerDropdown.toArray().some((ref) => ref.nativeElement.contains(targetElement))) {
            this.openedHeaderActionTemplate = null;
        }
    }
    constructor(styleService) {
        this.styleService = styleService;
        this.menuActive = false;
        this.openedHeaderActionTemplate = null;
        this.onSelectAllBinded = this.onSelectAll.bind(this);
        this.filter = new EventEmitter();
        this.order = new EventEmitter();
        this.selectAll = new EventEmitter();
        this.event = new EventEmitter();
    }
    getColumnDefinition(column) {
        return column.searchEnabled || typeof column.searchEnabled === 'undefined';
    }
    orderBy(column) {
        this.order.emit(column);
    }
    isOrderEnabled(column) {
        const columnOrderEnabled = column.orderEnabled === undefined ? true : !!column.orderEnabled;
        return this.config.orderEnabled && columnOrderEnabled;
    }
    columnDrop(event) {
        moveItemInArray(this.columns, event.previousIndex, event.currentIndex);
    }
    onSearch($event) {
        this.filter.emit($event);
    }
    getColumnWidth(column) {
        if (column.width) {
            return column.width;
        }
        return this.config.fixedColumnWidth ? 100 / this.columns.length + '%' : null;
    }
    onSelectAll() {
        this.selectAll.emit();
    }
    onMouseDown(event, th) {
        if (!this.config.resizeColumn) {
            return;
        }
        this.th = th;
        this.startOffset = th.offsetWidth - event.pageX;
        this.event.emit({
            event: Event.onColumnResizeMouseDown,
            value: event,
        });
    }
    onMouseMove(event) {
        if (!this.config.resizeColumn) {
            return;
        }
        if (this.th && this.th.style) {
            this.th.style.width = this.startOffset + event.pageX + 'px';
            this.th.style.cursor = 'col-resize';
            this.th.style['user-select'] = 'none';
        }
    }
    onMouseUp(event) {
        if (!this.config.resizeColumn) {
            return;
        }
        this.event.emit({
            event: Event.onColumnResizeMouseUp,
            value: event,
        });
        this.th.style.cursor = 'default';
        this.th = undefined;
    }
    showHeaderActionTemplateMenu(column) {
        if (!column.headerActionTemplate) {
            console.error('Column [headerActionTemplate] property not defined');
        }
        if (this.openedHeaderActionTemplate === column.key) {
            this.openedHeaderActionTemplate = null;
            return;
        }
        this.openedHeaderActionTemplate = column.key;
    }
    showMenu() {
        if (!this.additionalActionsTemplate) {
            console.error('[additionalActionsTemplate] property not defined');
        }
        this.menuActive = !this.menuActive;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.0.4", ngImport: i0, type: TableTHeadComponent, deps: [{ token: i1.StyleService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.0.4", type: TableTHeadComponent, selector: "[table-thead]", inputs: { config: "config", columns: "columns", sortKey: "sortKey", sortState: "sortState", selectAllTemplate: "selectAllTemplate", filtersTemplate: "filtersTemplate", additionalActionsTemplate: "additionalActionsTemplate" }, outputs: { filter: "filter", order: "order", selectAll: "selectAll", event: "event" }, host: { listeners: { "document:click": "onClick($event.target)" } }, providers: [StyleService], viewQueries: [{ propertyName: "th", first: true, predicate: ["th"], descendants: true }, { propertyName: "additionalActionMenu", first: true, predicate: ["additionalActionMenu"], descendants: true }, { propertyName: "headerDropdown", predicate: ["headerDropdown"], descendants: true }], ngImport: i0, template: "<tr class=\"ngx-table__header\" *ngIf=\"config.headerEnabled && !config.columnReorder\">\n  <th *ngIf=\"config.checkboxes || config.radio\" [style.width]=\"'3%'\">\n    <ng-container\n      *ngIf=\"selectAllTemplate && config.checkboxes\"\n      [ngTemplateOutlet]=\"selectAllTemplate\"\n      [ngTemplateOutletContext]=\"{ $implicit: onSelectAllBinded }\"\n    >\n    </ng-container>\n    <label\n      class=\"ngx-form-checkbox\"\n      for=\"selectAllCheckboxes\"\n      *ngIf=\"!selectAllTemplate && config.checkboxes\"\n    >\n      <input type=\"checkbox\" id=\"selectAllCheckboxes\" (change)=\"onSelectAll()\" />\n      <em class=\"ngx-form-icon\" id=\"selectAllCheckbox\"></em>\n    </label>\n  </th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index; let last = last\">\n    <th\n      class=\"ngx-table__header-cell\"\n      [class.pinned-left]=\"column.pinned\"\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n      #th\n      [style.width]=\"getColumnWidth(column)\"\n      (mousedown)=\"onMouseDown($event, th)\"\n      (mouseup)=\"onMouseUp($event)\"\n      (mousemove)=\"onMouseMove($event)\"\n    >\n      <div\n        (click)=\"orderBy(column)\"\n        style=\"display: inline\"\n        [class.pointer]=\"isOrderEnabled(column)\"\n      >\n        <div class=\"ngx-table__header-title\">\n          {{ column.title }}<span>&nbsp;</span>\n          <em class=\"ngx-icon ngx-icon-pin\" *ngIf=\"column.pinned\"></em>\n          <div [style.display]=\"config.orderEnabled ? 'inline' : 'none'\">\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'asc'\"\n              class=\"ngx-icon ngx-icon-arrow-up\"\n            >\n            </em>\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'desc'\"\n              class=\"ngx-icon ngx-icon-arrow-down\"\n            >\n            </em>\n          </div>\n        </div>\n      </div>\n      <div class=\"ngx-dropdown\" *ngIf=\"!!column.headerActionTemplate\" #headerDropdown>\n        <a class=\"ngx-btn ngx-btn-link\" (click)=\"showHeaderActionTemplateMenu(column)\">\n          <span class=\"ngx-icon ngx-icon-more\"></span>\n        </a>\n        <div\n          class=\"ngx-menu ngx-table__table-menu\"\n          *ngIf=\"column.key === openedHeaderActionTemplate\"\n        >\n          <ng-container [ngTemplateOutlet]=\"column.headerActionTemplate\"> </ng-container>\n        </div>\n      </div>\n      <div class=\"ngx-table__column-resizer\" *ngIf=\"config.resizeColumn && !last\"></div>\n    </th>\n  </ng-container>\n  <th\n    *ngIf=\"\n      config.additionalActions ||\n      config.detailsTemplate ||\n      config.collapseAllRows ||\n      config.groupRows\n    \"\n    class=\"ngx-table__header-cell-additional-actions\"\n  >\n    <div class=\"ngx-dropdown\" #additionalActionMenu *ngIf=\"config.additionalActions\">\n      <a class=\"ngx-btn ngx-btn-link\" (click)=\"showMenu()\">\n        <span class=\"ngx-icon ngx-icon-menu\"></span>\n      </a>\n      <ul class=\"ngx-menu ngx-table__table-menu\" *ngIf=\"menuActive\">\n        <ng-container\n          *ngIf=\"additionalActionsTemplate\"\n          [ngTemplateOutlet]=\"additionalActionsTemplate\"\n        >\n        </ng-container>\n      </ul>\n    </div>\n  </th>\n</tr>\n<tr\n  class=\"ngx-table__header ngx-table__header--draggable\"\n  *ngIf=\"config.headerEnabled && config.columnReorder\"\n  cdkDropList\n  cdkDropListOrientation=\"horizontal\"\n  (cdkDropListDropped)=\"columnDrop($event)\"\n>\n  <th *ngIf=\"config.checkboxes || config.radio\" [style.width]=\"'3%'\">\n    <ng-container\n      *ngIf=\"selectAllTemplate && config.checkboxes\"\n      [ngTemplateOutlet]=\"selectAllTemplate\"\n      [ngTemplateOutletContext]=\"{ $implicit: onSelectAllBinded }\"\n    >\n    </ng-container>\n    <label\n      class=\"ngx-form-checkbox\"\n      for=\"selectAllCheckboxes\"\n      *ngIf=\"!selectAllTemplate && config.checkboxes\"\n    >\n      <input type=\"checkbox\" id=\"selectAllCheckboxesDrag\" (change)=\"onSelectAll()\" />\n      <em class=\"ngx-form-icon\" id=\"selectAllCheckboxDrag\"></em>\n    </label>\n  </th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index; let last = last\">\n    <th\n      class=\"ngx-table__header-cell ngx-table__header-cell--draggable\"\n      cdkDragLockAxis=\"x\"\n      cdkDrag\n      [cdkDragStartDelay]=\"config.reorderDelay || 0\"\n      [class.pinned-left]=\"column.pinned\"\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n      #th\n      [style.width]=\"getColumnWidth(column)\"\n      (mousedown)=\"onMouseDown($event, th)\"\n      (mouseup)=\"onMouseUp($event)\"\n      (mousemove)=\"onMouseMove($event)\"\n    >\n      <div\n        (click)=\"orderBy(column)\"\n        style=\"display: inline\"\n        cdkDragHandle\n        [class.pointer]=\"isOrderEnabled(column)\"\n      >\n        <div class=\"ngx-table__header-title\">\n          {{ column.title }}<span>&nbsp;</span>\n          <em class=\"ngx-icon ngx-icon-pin\" *ngIf=\"column.pinned\"></em>\n          <div [style.display]=\"config.orderEnabled ? 'inline' : 'none'\">\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'asc'\"\n              class=\"ngx-icon ngx-icon-arrow-up\"\n            >\n            </em>\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'desc'\"\n              class=\"ngx-icon ngx-icon-arrow-down\"\n            >\n            </em>\n          </div>\n        </div>\n      </div>\n      <div class=\"ngx-dropdown\" *ngIf=\"!!column.headerActionTemplate\" #headerDropdown>\n        <a class=\"ngx-btn ngx-btn-link\" (click)=\"showHeaderActionTemplateMenu(column)\">\n          <span class=\"ngx-icon ngx-icon-more\"></span>\n        </a>\n        <div\n          class=\"ngx-menu ngx-table__table-menu\"\n          *ngIf=\"column.key === openedHeaderActionTemplate\"\n        >\n          <ng-container [ngTemplateOutlet]=\"column.headerActionTemplate\"> </ng-container>\n        </div>\n      </div>\n      <div class=\"ngx-table__column-resizer\" *ngIf=\"config.resizeColumn && !last\"></div>\n    </th>\n  </ng-container>\n  <th\n    *ngIf=\"\n      config.additionalActions ||\n      config.detailsTemplate ||\n      config.collapseAllRows ||\n      config.groupRows\n    \"\n    class=\"ngx-table__header-cell-additional-actions\"\n  >\n    <div class=\"ngx-dropdown\" #additionalActionMenu *ngIf=\"config.additionalActions\">\n      <a class=\"ngx-btn ngx-btn-link\" (click)=\"showMenu()\">\n        <span class=\"ngx-icon ngx-icon-menu\"></span>\n      </a>\n      <ul class=\"ngx-menu ngx-table__table-menu\" *ngIf=\"menuActive\">\n        <ng-container\n          *ngIf=\"additionalActionsTemplate\"\n          [ngTemplateOutlet]=\"additionalActionsTemplate\"\n        >\n        </ng-container>\n      </ul>\n    </div>\n  </th>\n</tr>\n<tr\n  [style.display]=\"config.searchEnabled && !filtersTemplate ? 'table-row' : 'none'\"\n  class=\"ngx-table__search-header\"\n>\n  <th *ngIf=\"config.checkboxes || config.radio\"></th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index\">\n    <th\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [class.pinned-left]=\"column.pinned\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n    >\n      <table-header\n        *ngIf=\"getColumnDefinition(column)\"\n        (update)=\"onSearch($event)\"\n        [column]=\"column\"\n      >\n      </table-header>\n    </th>\n  </ng-container>\n  <th *ngIf=\"config.additionalActions || config.detailsTemplate\"></th>\n</tr>\n<ng-container *ngIf=\"filtersTemplate\">\n  <tr>\n    <ng-container [ngTemplateOutlet]=\"filtersTemplate\"> </ng-container>\n  </tr>\n</ng-container>\n", styles: [".cdk-drag-preview{text-align:left;padding-top:9px;padding-left:4px;color:#50596c;border:1px solid #e7e9ed}\n"], dependencies: [{ kind: "directive", type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i3.CdkDropList, selector: "[cdkDropList], cdk-drop-list", inputs: ["cdkDropListConnectedTo", "cdkDropListData", "cdkDropListOrientation", "id", "cdkDropListLockAxis", "cdkDropListDisabled", "cdkDropListSortingDisabled", "cdkDropListEnterPredicate", "cdkDropListSortPredicate", "cdkDropListAutoScrollDisabled", "cdkDropListAutoScrollStep"], outputs: ["cdkDropListDropped", "cdkDropListEntered", "cdkDropListExited", "cdkDropListSorted"], exportAs: ["cdkDropList"] }, { kind: "directive", type: i3.CdkDrag, selector: "[cdkDrag]", inputs: ["cdkDragData", "cdkDragLockAxis", "cdkDragRootElement", "cdkDragBoundary", "cdkDragStartDelay", "cdkDragFreeDragPosition", "cdkDragDisabled", "cdkDragConstrainPosition", "cdkDragPreviewClass", "cdkDragPreviewContainer"], outputs: ["cdkDragStarted", "cdkDragReleased", "cdkDragEnded", "cdkDragEntered", "cdkDragExited", "cdkDragDropped", "cdkDragMoved"], exportAs: ["cdkDrag"] }, { kind: "directive", type: i3.CdkDragHandle, selector: "[cdkDragHandle]", inputs: ["cdkDragHandleDisabled"] }, { kind: "component", type: i4.HeaderComponent, selector: "table-header", inputs: ["column"], outputs: ["update"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
export { TableTHeadComponent };
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.0.4", ngImport: i0, type: TableTHeadComponent, decorators: [{
            type: Component,
            args: [{ selector: '[table-thead]', changeDetection: ChangeDetectionStrategy.OnPush, providers: [StyleService], template: "<tr class=\"ngx-table__header\" *ngIf=\"config.headerEnabled && !config.columnReorder\">\n  <th *ngIf=\"config.checkboxes || config.radio\" [style.width]=\"'3%'\">\n    <ng-container\n      *ngIf=\"selectAllTemplate && config.checkboxes\"\n      [ngTemplateOutlet]=\"selectAllTemplate\"\n      [ngTemplateOutletContext]=\"{ $implicit: onSelectAllBinded }\"\n    >\n    </ng-container>\n    <label\n      class=\"ngx-form-checkbox\"\n      for=\"selectAllCheckboxes\"\n      *ngIf=\"!selectAllTemplate && config.checkboxes\"\n    >\n      <input type=\"checkbox\" id=\"selectAllCheckboxes\" (change)=\"onSelectAll()\" />\n      <em class=\"ngx-form-icon\" id=\"selectAllCheckbox\"></em>\n    </label>\n  </th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index; let last = last\">\n    <th\n      class=\"ngx-table__header-cell\"\n      [class.pinned-left]=\"column.pinned\"\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n      #th\n      [style.width]=\"getColumnWidth(column)\"\n      (mousedown)=\"onMouseDown($event, th)\"\n      (mouseup)=\"onMouseUp($event)\"\n      (mousemove)=\"onMouseMove($event)\"\n    >\n      <div\n        (click)=\"orderBy(column)\"\n        style=\"display: inline\"\n        [class.pointer]=\"isOrderEnabled(column)\"\n      >\n        <div class=\"ngx-table__header-title\">\n          {{ column.title }}<span>&nbsp;</span>\n          <em class=\"ngx-icon ngx-icon-pin\" *ngIf=\"column.pinned\"></em>\n          <div [style.display]=\"config.orderEnabled ? 'inline' : 'none'\">\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'asc'\"\n              class=\"ngx-icon ngx-icon-arrow-up\"\n            >\n            </em>\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'desc'\"\n              class=\"ngx-icon ngx-icon-arrow-down\"\n            >\n            </em>\n          </div>\n        </div>\n      </div>\n      <div class=\"ngx-dropdown\" *ngIf=\"!!column.headerActionTemplate\" #headerDropdown>\n        <a class=\"ngx-btn ngx-btn-link\" (click)=\"showHeaderActionTemplateMenu(column)\">\n          <span class=\"ngx-icon ngx-icon-more\"></span>\n        </a>\n        <div\n          class=\"ngx-menu ngx-table__table-menu\"\n          *ngIf=\"column.key === openedHeaderActionTemplate\"\n        >\n          <ng-container [ngTemplateOutlet]=\"column.headerActionTemplate\"> </ng-container>\n        </div>\n      </div>\n      <div class=\"ngx-table__column-resizer\" *ngIf=\"config.resizeColumn && !last\"></div>\n    </th>\n  </ng-container>\n  <th\n    *ngIf=\"\n      config.additionalActions ||\n      config.detailsTemplate ||\n      config.collapseAllRows ||\n      config.groupRows\n    \"\n    class=\"ngx-table__header-cell-additional-actions\"\n  >\n    <div class=\"ngx-dropdown\" #additionalActionMenu *ngIf=\"config.additionalActions\">\n      <a class=\"ngx-btn ngx-btn-link\" (click)=\"showMenu()\">\n        <span class=\"ngx-icon ngx-icon-menu\"></span>\n      </a>\n      <ul class=\"ngx-menu ngx-table__table-menu\" *ngIf=\"menuActive\">\n        <ng-container\n          *ngIf=\"additionalActionsTemplate\"\n          [ngTemplateOutlet]=\"additionalActionsTemplate\"\n        >\n        </ng-container>\n      </ul>\n    </div>\n  </th>\n</tr>\n<tr\n  class=\"ngx-table__header ngx-table__header--draggable\"\n  *ngIf=\"config.headerEnabled && config.columnReorder\"\n  cdkDropList\n  cdkDropListOrientation=\"horizontal\"\n  (cdkDropListDropped)=\"columnDrop($event)\"\n>\n  <th *ngIf=\"config.checkboxes || config.radio\" [style.width]=\"'3%'\">\n    <ng-container\n      *ngIf=\"selectAllTemplate && config.checkboxes\"\n      [ngTemplateOutlet]=\"selectAllTemplate\"\n      [ngTemplateOutletContext]=\"{ $implicit: onSelectAllBinded }\"\n    >\n    </ng-container>\n    <label\n      class=\"ngx-form-checkbox\"\n      for=\"selectAllCheckboxes\"\n      *ngIf=\"!selectAllTemplate && config.checkboxes\"\n    >\n      <input type=\"checkbox\" id=\"selectAllCheckboxesDrag\" (change)=\"onSelectAll()\" />\n      <em class=\"ngx-form-icon\" id=\"selectAllCheckboxDrag\"></em>\n    </label>\n  </th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index; let last = last\">\n    <th\n      class=\"ngx-table__header-cell ngx-table__header-cell--draggable\"\n      cdkDragLockAxis=\"x\"\n      cdkDrag\n      [cdkDragStartDelay]=\"config.reorderDelay || 0\"\n      [class.pinned-left]=\"column.pinned\"\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n      #th\n      [style.width]=\"getColumnWidth(column)\"\n      (mousedown)=\"onMouseDown($event, th)\"\n      (mouseup)=\"onMouseUp($event)\"\n      (mousemove)=\"onMouseMove($event)\"\n    >\n      <div\n        (click)=\"orderBy(column)\"\n        style=\"display: inline\"\n        cdkDragHandle\n        [class.pointer]=\"isOrderEnabled(column)\"\n      >\n        <div class=\"ngx-table__header-title\">\n          {{ column.title }}<span>&nbsp;</span>\n          <em class=\"ngx-icon ngx-icon-pin\" *ngIf=\"column.pinned\"></em>\n          <div [style.display]=\"config.orderEnabled ? 'inline' : 'none'\">\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'asc'\"\n              class=\"ngx-icon ngx-icon-arrow-up\"\n            >\n            </em>\n            <em\n              *ngIf=\"sortKey === column.key && this.sortState.get(sortKey) === 'desc'\"\n              class=\"ngx-icon ngx-icon-arrow-down\"\n            >\n            </em>\n          </div>\n        </div>\n      </div>\n      <div class=\"ngx-dropdown\" *ngIf=\"!!column.headerActionTemplate\" #headerDropdown>\n        <a class=\"ngx-btn ngx-btn-link\" (click)=\"showHeaderActionTemplateMenu(column)\">\n          <span class=\"ngx-icon ngx-icon-more\"></span>\n        </a>\n        <div\n          class=\"ngx-menu ngx-table__table-menu\"\n          *ngIf=\"column.key === openedHeaderActionTemplate\"\n        >\n          <ng-container [ngTemplateOutlet]=\"column.headerActionTemplate\"> </ng-container>\n        </div>\n      </div>\n      <div class=\"ngx-table__column-resizer\" *ngIf=\"config.resizeColumn && !last\"></div>\n    </th>\n  </ng-container>\n  <th\n    *ngIf=\"\n      config.additionalActions ||\n      config.detailsTemplate ||\n      config.collapseAllRows ||\n      config.groupRows\n    \"\n    class=\"ngx-table__header-cell-additional-actions\"\n  >\n    <div class=\"ngx-dropdown\" #additionalActionMenu *ngIf=\"config.additionalActions\">\n      <a class=\"ngx-btn ngx-btn-link\" (click)=\"showMenu()\">\n        <span class=\"ngx-icon ngx-icon-menu\"></span>\n      </a>\n      <ul class=\"ngx-menu ngx-table__table-menu\" *ngIf=\"menuActive\">\n        <ng-container\n          *ngIf=\"additionalActionsTemplate\"\n          [ngTemplateOutlet]=\"additionalActionsTemplate\"\n        >\n        </ng-container>\n      </ul>\n    </div>\n  </th>\n</tr>\n<tr\n  [style.display]=\"config.searchEnabled && !filtersTemplate ? 'table-row' : 'none'\"\n  class=\"ngx-table__search-header\"\n>\n  <th *ngIf=\"config.checkboxes || config.radio\"></th>\n  <ng-container *ngFor=\"let column of columns; let colIndex = index\">\n    <th\n      [ngClass]=\"column.cssClass && column.cssClass.includeHeader ? column.cssClass.name : ''\"\n      [class.pinned-left]=\"column.pinned\"\n      [style.left]=\"styleService.pinnedWidth(column.pinned, colIndex)\"\n    >\n      <table-header\n        *ngIf=\"getColumnDefinition(column)\"\n        (update)=\"onSearch($event)\"\n        [column]=\"column\"\n      >\n      </table-header>\n    </th>\n  </ng-container>\n  <th *ngIf=\"config.additionalActions || config.detailsTemplate\"></th>\n</tr>\n<ng-container *ngIf=\"filtersTemplate\">\n  <tr>\n    <ng-container [ngTemplateOutlet]=\"filtersTemplate\"> </ng-container>\n  </tr>\n</ng-container>\n", styles: [".cdk-drag-preview{text-align:left;padding-top:9px;padding-left:4px;color:#50596c;border:1px solid #e7e9ed}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.StyleService }]; }, propDecorators: { config: [{
                type: Input
            }], columns: [{
                type: Input
            }], sortKey: [{
                type: Input
            }], sortState: [{
                type: Input
            }], selectAllTemplate: [{
                type: Input
            }], filtersTemplate: [{
                type: Input
            }], additionalActionsTemplate: [{
                type: Input
            }], filter: [{
                type: Output
            }], order: [{
                type: Output
            }], selectAll: [{
                type: Output
            }], event: [{
                type: Output
            }], th: [{
                type: ViewChild,
                args: ['th']
            }], headerDropdown: [{
                type: ViewChildren,
                args: ['headerDropdown']
            }], additionalActionMenu: [{
                type: ViewChild,
                args: ['additionalActionMenu']
            }], onClick: [{
                type: HostListener,
                args: ['document:click', ['$event.target']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlYWQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmd4LWVhc3ktdGFibGUvc3JjL2xpYi9jb21wb25lbnRzL3RoZWFkL3RoZWFkLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1lYXN5LXRhYmxlL3NyYy9saWIvY29tcG9uZW50cy90aGVhZC90aGVhZC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxZQUFZLEVBQ1osWUFBWSxFQUNaLEtBQUssRUFDTCxNQUFNLEVBRU4sU0FBUyxFQUNULFlBQVksR0FDYixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQW1CLEtBQUssRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUMvQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDNUQsT0FBTyxFQUFlLGVBQWUsRUFBRSxNQUFNLHdCQUF3QixDQUFDOzs7Ozs7QUFFdEUsTUFpQmEsbUJBQW1CO0lBcUJ2QixPQUFPLENBQUMsYUFBa0I7UUFDL0IsSUFDRSxJQUFJLENBQUMsb0JBQW9CO1lBQ3pCLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEVBQ2hFO1lBQ0EsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7U0FDekI7UUFFRCx1RUFBdUU7UUFDdkUsSUFDRSxJQUFJLENBQUMsMEJBQTBCO1lBQy9CLHNDQUFzQztZQUN0QyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUN2RjtZQUNBLElBQUksQ0FBQywwQkFB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QW1CO2tCQWpCL0IsU0FBUzsrQkFDRSxlQUFlLG1CQWFSLHVCQUF1QixDQUFDLE1BQU0sYUFDcEMsQ0FBQyxZQUFZLENBQUM7bUdBUWhCLE1BQU07c0JBQWQsS0FBSztnQkFDRyxPQUFPO3NCQUFmLEtBQUs7Z0JBQ0csT0FBTztzQkFBZixLQUFLO2dCQUNHLFNBQVM7c0JBQWpCLEtBQUs7Z0JBQ0csaUJBQWlCO3NCQUF6QixLQUFLO2dCQUNHLGVBQWU7c0JBQXZCLEtBQUs7Z0JBQ0cseUJBQXlCO3NCQUFqQyxLQUFLO2dCQUNhLE1BQU07c0JBQXhCLE1BQU07Z0JBQ1ksS0FBSztzQkFBdkIsTUFBTTtnQkFDWSxTQUFTO3NCQUEzQixNQUFNO2dCQUNZLEtBQUs7c0JBQXZCLE1BQU07Z0JBQ2tCLEVBQUU7c0JBQTFCLFNBQVM7dUJBQUMsSUFBSTtnQkFDaUIsY0FBYztzQkFBN0MsWUFBWTt1QkFBQyxnQkFBZ0I7Z0JBQ0ssb0JBQW9CO3NCQUF0RCxTQUFTO3VCQUFDLHNCQUFzQjtnQkFFMUIsT0FBTztzQkFEYixZQUFZO3VCQUFDLGdCQUFnQixFQUFFLENBQUMsZUFBZSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENvbXBvbmVudCxcbiAgRXZlbnRFbWl0dGVyLFxuICBIb3N0TGlzdGVuZXIsXG4gIElucHV0LFxuICBPdXRwdXQsXG4gIFRlbXBsYXRlUmVmLFxuICBWaWV3Q2hpbGQsXG4gIFZpZXdDaGlsZHJlbixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb2x1bW5zLCBDb25maWcsIEV2ZW50IH0gZnJvbSAnLi4vLi4nO1xuaW1wb3J0IHsgU3R5bGVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvc3R5bGUuc2VydmljZSc7XG5pbXBvcnQgeyBDZGtEcmFnRHJvcCwgbW92ZUl0ZW1JbkFycmF5IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2RyYWctZHJvcCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ1t0YWJsZS10aGVhZF0nLFxuICB0ZW1wbGF0ZVVybDogJy4vdGhlYWQuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZXM6IFtcbiAgICBgXG4gICAgICAuY2RrLWRyYWctcHJldmlldyB7XG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgIHBhZGRpbmctdG9wOiA5cHg7XG4gICAgICAgIHBhZGRpbmctbGVmdDogNHB4O1xuICAgICAgICBjb2xvcjogIzUwNTk2YztcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U3ZTllZDtcbiAgICAgIH1cbiAgICBgLFxuICBdLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgcHJvdmlkZXJzOiBbU3R5bGVTZXJ2aWNlXSxcbn0pXG5leHBvcnQgY2xhc3MgVGFibGVUSGVhZENvbXBvbmVudCB7XG4gIHB1YmxpYyBtZW51QWN0aXZlID0gZmFsc2U7XG4gIHB1YmxpYyBvcGVuZWRIZWFkZXJBY3Rpb25UZW1wbGF0ZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBzdGFydE9mZnNldDtcbiAgcHVibGljIG9uU2VsZWN0QWxsQmluZGVkID0gdGhpcy5vblNlbGVjdEFsbC5iaW5kKHRoaXMpO1xuXG4gIEBJbnB1dCgpIGNvbmZpZzogQ29uZmlnO1xuICBASW5wdXQoKSBjb2x1bW5zOiBDb2x1bW5zW107XG4gIEBJbnB1dCgpIHNvcnRLZXk7XG4gIEBJbnB1dCgpIHNvcnRTdGF0ZTtcbiAgQElucHV0KCkgc2VsZWN0QWxsVGVtcGxhdGU7XG4gIEBJbnB1dCgpIGZpbHRlcnNUZW1wbGF0ZTtcbiAgQElucHV0KCkgYWRkaXRpb25hbEFjdGlvbnNUZW1wbGF0ZTogVGVtcGxhdGVSZWY8dm9pZD47XG4gIEBPdXRwdXQoKSByZWFkb25seSBmaWx0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyPEFycmF5PHsga2V5OiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfT4+KCk7XG4gIEBPdXRwdXQoKSByZWFkb25seSBvcmRlciA9IG5ldyBFdmVudEVtaXR0ZXI8Q29sdW1ucz4oKTtcbiAgQE91dHB1dCgpIHJlYWRvbmx5IHNlbGVjdEFsbCA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcbiAgQE91dHB1dCgpIHJlYWRvbmx5IGV2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjx7IGV2ZW50OiBzdHJpbmc7IHZhbHVlOiBhbnkgfT4oKTtcbiAgQFZpZXdDaGlsZCgndGgnKSBwcml2YXRlIHRoO1xuICBAVmlld0NoaWxkcmVuKCdoZWFkZXJEcm9wZG93bicpIGhlYWRlckRyb3Bkb3duO1xuICBAVmlld0NoaWxkKCdhZGRpdGlvbmFsQWN0aW9uTWVudScpIGFkZGl0aW9uYWxBY3Rpb25NZW51O1xuICBASG9zdExpc3RlbmVyKCdkb2N1bWVudDpjbGljaycsIFsnJGV2ZW50LnRhcmdldCddKVxuICBwdWJsaWMgb25DbGljayh0YXJnZXRFbGVtZW50OiBhbnkpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmFkZGl0aW9uYWxBY3Rpb25NZW51ICYmXG4gICAgICAhdGhpcy5hZGRpdGlvbmFsQWN0aW9uTWVudS5uYXRpdmVFbGVtZW50LmNvbnRhaW5zKHRhcmdldEVsZW1lbnQpXG4gICAgKSB7XG4gICAgICB0aGlzLm1lbnVBY3RpdmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBpZiBjbGljayBvdXRzaWRlIHRoZSBoZWFkZXIgdGhlbiBjbG9zZSBvcGVuZWQgSGVhZGVyIEFjdGlvbiBUZW1wbGF0ZVxuICAgIGlmIChcbiAgICAgIHRoaXMub3BlbmVkSGVhZGVyQWN0aW9uVGVtcGxhdGUgJiZcbiAgICAgIC8vIGlmIG5vIGhlYWRlciBoYXZlIHRoZSBjbGlja2VkIHBvaW50XG4gICAgICAhdGhpcy5oZWFkZXJEcm9wZG93bi50b0FycmF5KCkuc29tZSgocmVmKSA9PiByZWYubmF0aXZlRWxlbWVudC5jb250YWlucyh0YXJnZXRFbGVtZW50KSlcbiAgICApIHtcbiAgICAgIHRoaXMub3BlbmVkSGVhZGVyQWN0aW9uVGVtcGxhdGUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBzdHlsZVNlcnZpY2U6IFN0eWxlU2VydmljZSkge31cblxuICBnZXRDb2x1bW5EZWZpbml0aW9uKGNvbHVtbjogQ29sdW1ucyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBjb2x1bW4uc2VhcmNoRW5hYmxlZCB8fCB0eXBlb2YgY29sdW1uLnNlYXJjaEVuYWJsZWQgPT09ICd1bmRlZmluZWQnO1xuICB9XG5cbiAgb3JkZXJCeShjb2x1bW46IENvbHVtbnMpOiB2b2lkIHtcbiAgICB0aGlzLm9yZGVyLmVtaXQoY29sdW1uKTtcbiAgfVxuXG4gIGlzT3JkZXJFbmFibGVkKGNvbHVtbjogQ29sdW1ucyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNvbHVtbk9yZGVyRW5hYmxlZCA9IGNvbHVtbi5vcmRlckVuYWJsZWQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhIWNvbHVtbi5vcmRlckVuYWJsZWQ7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLm9yZGVyRW5hYmxlZCAmJiBjb2x1bW5PcmRlckVuYWJsZWQ7XG4gIH1cblxuICBjb2x1bW5Ecm9wKGV2ZW50OiBDZGtEcmFnRHJvcDxzdHJpbmdbXT4pOiB2b2lkIHtcbiAgICBtb3ZlSXRlbUluQXJyYXkodGhpcy5jb2x1bW5zLCBldmVudC5wcmV2aW91c0luZGV4LCBldmVudC5jdXJyZW50SW5kZXgpO1xuICB9XG5cbiAgb25TZWFyY2goJGV2ZW50OiBBcnJheTx7IGtleTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+KTogdm9pZCB7XG4gICAgdGhpcy5maWx0ZXIuZW1pdCgkZXZlbnQpO1xuICB9XG5cbiAgZ2V0Q29sdW1uV2lkdGgoY29sdW1uOiBhbnkpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoY29sdW1uLndpZHRoKSB7XG4gICAgICByZXR1cm4gY29sdW1uLndpZHRoO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb25maWcuZml4ZWRDb2x1bW5XaWR0aCA/IDEwMCAvIHRoaXMuY29sdW1ucy5sZW5ndGggKyAnJScgOiBudWxsO1xuICB9XG5cbiAgb25TZWxlY3RBbGwoKTogdm9pZCB7XG4gICAgdGhpcy5zZWxlY3RBbGwuZW1pdCgpO1xuICB9XG5cbiAgb25Nb3VzZURvd24oZXZlbnQ6IE1vdXNlRXZlbnQsIHRoOiBIVE1MVGFibGVIZWFkZXJDZWxsRWxlbWVudCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb25maWcucmVzaXplQ29sdW1uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudGggPSB0aDtcbiAgICB0aGlzLnN0YXJ0T2Zmc2V0ID0gdGgub2Zmc2V0V2lkdGggLSBldmVudC5wYWdlWDtcbiAgICB0aGlzLmV2ZW50LmVtaXQoe1xuICAgICAgZXZlbnQ6IEV2ZW50Lm9uQ29sdW1uUmVzaXplTW91c2VEb3duLFxuICAgICAgdmFsdWU6IGV2ZW50LFxuICAgIH0pO1xuICB9XG5cbiAgb25Nb3VzZU1vdmUoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLnJlc2l6ZUNvbHVtbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy50aCAmJiB0aGlzLnRoLnN0eWxlKSB7XG4gICAgICB0aGlzLnRoLnN0eWxlLndpZHRoID0gdGhpcy5zdGFydE9mZnNldCArIGV2ZW50LnBhZ2VYICsgJ3B4JztcbiAgICAgIHRoaXMudGguc3R5bGUuY3Vyc29yID0gJ2NvbC1yZXNpemUnO1xuICAgICAgdGhpcy50aC5zdHlsZVsndXNlci1zZWxlY3QnXSA9ICdub25lJztcbiAgICB9XG4gIH1cblxuICBvbk1vdXNlVXAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuY29uZmlnLnJlc2l6ZUNvbHVtbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50LmVtaXQoe1xuICAgICAgZXZlbnQ6IEV2ZW50Lm9uQ29sdW1uUmVzaXplTW91c2VVcCxcbiAgICAgIHZhbHVlOiBldmVudCxcbiAgICB9KTtcbiAgICB0aGlzLnRoLnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcbiAgICB0aGlzLnRoID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgc2hvd0hlYWRlckFjdGlvblRlbXBsYXRlTWVudShjb2x1bW46IENvbHVtbnMpOiB2b2lkIHtcbiAgICBpZiAoIWNvbHVtbi5oZWFkZXJBY3Rpb25UZW1wbGF0ZSkge1xuICAgICAgY29uc29sZS5lcnJvcignQ29sdW1uIFtoZWFkZXJBY3Rpb25UZW1wbGF0ZV0gcHJvcGVydHkgbm90IGRlZmluZWQnKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3BlbmVkSGVhZGVyQWN0aW9uVGVtcGxhdGUgPT09IGNvbHVtbi5rZXkpIHtcbiAgICAgIHRoaXMub3BlbmVkSGVhZGVyQWN0aW9uVGVtcGxhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLm9wZW5lZEhlYWRlckFjdGlvblRlbXBsYXRlID0gY29sdW1uLmtleTtcbiAgfVxuXG4gIHNob3dNZW51KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5hZGRpdGlvbmFsQWN0aW9uc1RlbXBsYXRlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbYWRkaXRpb25hbEFjdGlvbnNUZW1wbGF0ZV0gcHJvcGVydHkgbm90IGRlZmluZWQnKTtcbiAgICB9XG4gICAgdGhpcy5tZW51QWN0aXZlID0gIXRoaXMubWVudUFjdGl2ZTtcbiAgfVxufVxuIiwiPHRyIGNsYXNzPVwibmd4LXRhYmxlX19oZWFkZXJcIiAqbmdJZj1cImNvbmZpZy5oZWFkZXJFbmFibGVkICYmICFjb25maWcuY29sdW1uUmVvcmRlclwiPlxuICA8dGggKm5nSWY9XCJjb25maWcuY2hlY2tib3hlcyB8fCBjb25maWcucmFkaW9cIiBbc3R5bGUud2lkdGhdPVwiJzMlJ1wiPlxuICAgIDxuZy1jb250YWluZXJcbiAgICAgICpuZ0lmPVwic2VsZWN0QWxsVGVtcGxhdGUgJiYgY29uZmlnLmNoZWNrYm94ZXNcIlxuICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwic2VsZWN0QWxsVGVtcGxhdGVcIlxuICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgJGltcGxpY2l0OiBvblNlbGVjdEFsbEJpbmRlZCB9XCJcbiAgICA+XG4gICAgPC9uZy1jb250YWluZXI+XG4gICAgPGxhYmVsXG4gICAgICBjbGFzcz1cIm5neC1mb3JtLWNoZWNrYm94XCJcbiAgICAgIGZvcj1cInNlbGVjdEFsbENoZWNrYm94ZXNcIlxuICAgICAgKm5nSWY9XCIhc2VsZWN0QWxsVGVtcGxhdGUgJiYgY29uZmlnLmNoZWNrYm94ZXNcIlxuICAgID5cbiAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInNlbGVjdEFsbENoZWNrYm94ZXNcIiAoY2hhbmdlKT1cIm9uU2VsZWN0QWxsKClcIiAvPlxuICAgICAgPGVtIGNsYXNzPVwibmd4LWZvcm0taWNvblwiIGlkPVwic2VsZWN0QWxsQ2hlY2tib3hcIj48L2VtPlxuICAgIDwvbGFiZWw+XG4gIDwvdGg+XG4gIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGNvbHVtbiBvZiBjb2x1bW5zOyBsZXQgY29sSW5kZXggPSBpbmRleDsgbGV0IGxhc3QgPSBsYXN0XCI+XG4gICAgPHRoXG4gICAgICBjbGFzcz1cIm5neC10YWJsZV9faGVhZGVyLWNlbGxcIlxuICAgICAgW2NsYXNzLnBpbm5lZC1sZWZ0XT1cImNvbHVtbi5waW5uZWRcIlxuICAgICAgW25nQ2xhc3NdPVwiY29sdW1uLmNzc0NsYXNzICYmIGNvbHVtbi5jc3NDbGFzcy5pbmNsdWRlSGVhZGVyID8gY29sdW1uLmNzc0NsYXNzLm5hbWUgOiAnJ1wiXG4gICAgICBbc3R5bGUubGVmdF09XCJzdHlsZVNlcnZpY2UucGlubmVkV2lkdGgoY29sdW1uLnBpbm5lZCwgY29sSW5kZXgpXCJcbiAgICAgICN0aFxuICAgICAgW3N0eWxlLndpZHRoXT1cImdldENvbHVtbldpZHRoKGNvbHVtbilcIlxuICAgICAgKG1vdXNlZG93bik9XCJvbk1vdXNlRG93bigkZXZlbnQsIHRoKVwiXG4gICAgICAobW91c2V1cCk9XCJvbk1vdXNlVXAoJGV2ZW50KVwiXG4gICAgICAobW91c2Vtb3ZlKT1cIm9uTW91c2VNb3ZlKCRldmVudClcIlxuICAgID5cbiAgICAgIDxkaXZcbiAgICAgICAgKGNsaWNrKT1cIm9yZGVyQnkoY29sdW1uKVwiXG4gICAgICAgIHN0eWxlPVwiZGlzcGxheTogaW5saW5lXCJcbiAgICAgICAgW2NsYXNzLnBvaW50ZXJdPVwiaXNPcmRlckVuYWJsZWQoY29sdW1uKVwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZ3gtdGFibGVfX2hlYWRlci10aXRsZVwiPlxuICAgICAgICAgIHt7IGNvbHVtbi50aXRsZSB9fTxzcGFuPiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICA8ZW0gY2xhc3M9XCJuZ3gtaWNvbiBuZ3gtaWNvbi1waW5cIiAqbmdJZj1cImNvbHVtbi5waW5uZWRcIj48L2VtPlxuICAgICAgICAgIDxkaXYgW3N0eWxlLmRpc3BsYXldPVwiY29uZmlnLm9yZGVyRW5hYmxlZCA/ICdpbmxpbmUnIDogJ25vbmUnXCI+XG4gICAgICAgICAgICA8ZW1cbiAgICAgICAgICAgICAgKm5nSWY9XCJzb3J0S2V5ID09PSBjb2x1bW4ua2V5ICYmIHRoaXMuc29ydFN0YXRlLmdldChzb3J0S2V5KSA9PT0gJ2FzYydcIlxuICAgICAgICAgICAgICBjbGFzcz1cIm5neC1pY29uIG5neC1pY29uLWFycm93LXVwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvZW0+XG4gICAgICAgICAgICA8ZW1cbiAgICAgICAgICAgICAgKm5nSWY9XCJzb3J0S2V5ID09PSBjb2x1bW4ua2V5ICYmIHRoaXMuc29ydFN0YXRlLmdldChzb3J0S2V5KSA9PT0gJ2Rlc2MnXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJuZ3gtaWNvbiBuZ3gtaWNvbi1hcnJvdy1kb3duXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvZW0+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibmd4LWRyb3Bkb3duXCIgKm5nSWY9XCIhIWNvbHVtbi5oZWFkZXJBY3Rpb25UZW1wbGF0ZVwiICNoZWFkZXJEcm9wZG93bj5cbiAgICAgICAgPGEgY2xhc3M9XCJuZ3gtYnRuIG5neC1idG4tbGlua1wiIChjbGljayk9XCJzaG93SGVhZGVyQWN0aW9uVGVtcGxhdGVNZW51KGNvbHVtbilcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm5neC1pY29uIG5neC1pY29uLW1vcmVcIj48L3NwYW4+XG4gICAgICAgIDwvYT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwibmd4LW1lbnUgbmd4LXRhYmxlX190YWJsZS1tZW51XCJcbiAgICAgICAgICAqbmdJZj1cImNvbHVtbi5rZXkgPT09IG9wZW5lZEhlYWRlckFjdGlvblRlbXBsYXRlXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgW25nVGVtcGxhdGVPdXRsZXRdPVwiY29sdW1uLmhlYWRlckFjdGlvblRlbXBsYXRlXCI+IDwvbmctY29udGFpbmVyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5neC10YWJsZV9fY29sdW1uLXJlc2l6ZXJcIiAqbmdJZj1cImNvbmZpZy5yZXNpemVDb2x1bW4gJiYgIWxhc3RcIj48L2Rpdj5cbiAgICA8L3RoPlxuICA8L25nLWNvbnRhaW5lcj5cbiAgPHRoXG4gICAgKm5nSWY9XCJcbiAgICAgIGNvbmZpZy5hZGRpdGlvbmFsQWN0aW9ucyB8fFxuICAgICAgY29uZmlnLmRldGFpbHNUZW1wbGF0ZSB8fFxuICAgICAgY29uZmlnLmNvbGxhcHNlQWxsUm93cyB8fFxuICAgICAgY29uZmlnLmdyb3VwUm93c1xuICAgIFwiXG4gICAgY2xhc3M9XCJuZ3gtdGFibGVfX2hlYWRlci1jZWxsLWFkZGl0aW9uYWwtYWN0aW9uc1wiXG4gID5cbiAgICA8ZGl2IGNsYXNzPVwibmd4LWRyb3Bkb3duXCIgI2FkZGl0aW9uYWxBY3Rpb25NZW51ICpuZ0lmPVwiY29uZmlnLmFkZGl0aW9uYWxBY3Rpb25zXCI+XG4gICAgICA8YSBjbGFzcz1cIm5neC1idG4gbmd4LWJ0bi1saW5rXCIgKGNsaWNrKT1cInNob3dNZW51KClcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJuZ3gtaWNvbiBuZ3gtaWNvbi1tZW51XCI+PC9zcGFuPlxuICAgICAgPC9hPlxuICAgICAgPHVsIGNsYXNzPVwibmd4LW1lbnUgbmd4LXRhYmxlX190YWJsZS1tZW51XCIgKm5nSWY9XCJtZW51QWN0aXZlXCI+XG4gICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAqbmdJZj1cImFkZGl0aW9uYWxBY3Rpb25zVGVtcGxhdGVcIlxuICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImFkZGl0aW9uYWxBY3Rpb25zVGVtcGxhdGVcIlxuICAgICAgICA+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgPC90aD5cbjwvdHI+XG48dHJcbiAgY2xhc3M9XCJuZ3gtdGFibGVfX2hlYWRlciBuZ3gtdGFibGVfX2hlYWRlci0tZHJhZ2dhYmxlXCJcbiAgKm5nSWY9XCJjb25maWcuaGVhZGVyRW5hYmxlZCAmJiBjb25maWcuY29sdW1uUmVvcmRlclwiXG4gIGNka0Ryb3BMaXN0XG4gIGNka0Ryb3BMaXN0T3JpZW50YXRpb249XCJob3Jpem9udGFsXCJcbiAgKGNka0Ryb3BMaXN0RHJvcHBlZCk9XCJjb2x1bW5Ecm9wKCRldmVudClcIlxuPlxuICA8dGggKm5nSWY9XCJjb25maWcuY2hlY2tib3hlcyB8fCBjb25maWcucmFkaW9cIiBbc3R5bGUud2lkdGhdPVwiJzMlJ1wiPlxuICAgIDxuZy1jb250YWluZXJcbiAgICAgICpuZ0lmPVwic2VsZWN0QWxsVGVtcGxhdGUgJiYgY29uZmlnLmNoZWNrYm94ZXNcIlxuICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwic2VsZWN0QWxsVGVtcGxhdGVcIlxuICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgJGltcGxpY2l0OiBvblNlbGVjdEFsbEJpbmRlZCB9XCJcbiAgICA+XG4gICAgPC9uZy1jb250YWluZXI+XG4gICAgPGxhYmVsXG4gICAgICBjbGFzcz1cIm5neC1mb3JtLWNoZWNrYm94XCJcbiAgICAgIGZvcj1cInNlbGVjdEFsbENoZWNrYm94ZXNcIlxuICAgICAgKm5nSWY9XCIhc2VsZWN0QWxsVGVtcGxhdGUgJiYgY29uZmlnLmNoZWNrYm94ZXNcIlxuICAgID5cbiAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInNlbGVjdEFsbENoZWNrYm94ZXNEcmFnXCIgKGNoYW5nZSk9XCJvblNlbGVjdEFsbCgpXCIgLz5cbiAgICAgIDxlbSBjbGFzcz1cIm5neC1mb3JtLWljb25cIiBpZD1cInNlbGVjdEFsbENoZWNrYm94RHJhZ1wiPjwvZW0+XG4gICAgPC9sYWJlbD5cbiAgPC90aD5cbiAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgY29sdW1uIG9mIGNvbHVtbnM7IGxldCBjb2xJbmRleCA9IGluZGV4OyBsZXQgbGFzdCA9IGxhc3RcIj5cbiAgICA8dGhcbiAgICAgIGNsYXNzPVwibmd4LXRhYmxlX19oZWFkZXItY2VsbCBuZ3gtdGFibGVfX2hlYWRlci1jZWxsLS1kcmFnZ2FibGVcIlxuICAgICAgY2RrRHJhZ0xvY2tBeGlzPVwieFwiXG4gICAgICBjZGtEcmFnXG4gICAgICBbY2RrRHJhZ1N0YXJ0RGVsYXldPVwiY29uZmlnLnJlb3JkZXJEZWxheSB8fCAwXCJcbiAgICAgIFtjbGFzcy5waW5uZWQtbGVmdF09XCJjb2x1bW4ucGlubmVkXCJcbiAgICAgIFtuZ0NsYXNzXT1cImNvbHVtbi5jc3NDbGFzcyAmJiBjb2x1bW4uY3NzQ2xhc3MuaW5jbHVkZUhlYWRlciA/IGNvbHVtbi5jc3NDbGFzcy5uYW1lIDogJydcIlxuICAgICAgW3N0eWxlLmxlZnRdPVwic3R5bGVTZXJ2aWNlLnBpbm5lZFdpZHRoKGNvbHVtbi5waW5uZWQsIGNvbEluZGV4KVwiXG4gICAgICAjdGhcbiAgICAgIFtzdHlsZS53aWR0aF09XCJnZXRDb2x1bW5XaWR0aChjb2x1bW4pXCJcbiAgICAgIChtb3VzZWRvd24pPVwib25Nb3VzZURvd24oJGV2ZW50LCB0aClcIlxuICAgICAgKG1vdXNldXApPVwib25Nb3VzZVVwKCRldmVudClcIlxuICAgICAgKG1vdXNlbW92ZSk9XCJvbk1vdXNlTW92ZSgkZXZlbnQpXCJcbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIChjbGljayk9XCJvcmRlckJ5KGNvbHVtbilcIlxuICAgICAgICBzdHlsZT1cImRpc3BsYXk6IGlubGluZVwiXG4gICAgICAgIGNka0RyYWdIYW5kbGVcbiAgICAgICAgW2NsYXNzLnBvaW50ZXJdPVwiaXNPcmRlckVuYWJsZWQoY29sdW1uKVwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZ3gtdGFibGVfX2hlYWRlci10aXRsZVwiPlxuICAgICAgICAgIHt7IGNvbHVtbi50aXRsZSB9fTxzcGFuPiZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICA8ZW0gY2xhc3M9XCJuZ3gtaWNvbiBuZ3gtaWNvbi1waW5cIiAqbmdJZj1cImNvbHVtbi5waW5uZWRcIj48L2VtPlxuICAgICAgICAgIDxkaXYgW3N0eWxlLmRpc3BsYXldPVwiY29uZmlnLm9yZGVyRW5hYmxlZCA/ICdpbmxpbmUnIDogJ25vbmUnXCI+XG4gICAgICAgICAgICA8ZW1cbiAgICAgICAgICAgICAgKm5nSWY9XCJzb3J0S2V5ID09PSBjb2x1bW4ua2V5ICYmIHRoaXMuc29ydFN0YXRlLmdldChzb3J0S2V5KSA9PT0gJ2FzYydcIlxuICAgICAgICAgICAgICBjbGFzcz1cIm5neC1pY29uIG5neC1pY29uLWFycm93LXVwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvZW0+XG4gICAgICAgICAgICA8ZW1cbiAgICAgICAgICAgICAgKm5nSWY9XCJzb3J0S2V5ID09PSBjb2x1bW4ua2V5ICYmIHRoaXMuc29ydFN0YXRlLmdldChzb3J0S2V5KSA9PT0gJ2Rlc2MnXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJuZ3gtaWNvbiBuZ3gtaWNvbi1hcnJvdy1kb3duXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvZW0+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibmd4LWRyb3Bkb3duXCIgKm5nSWY9XCIhIWNvbHVtbi5oZWFkZXJBY3Rpb25UZW1wbGF0ZVwiICNoZWFkZXJEcm9wZG93bj5cbiAgICAgICAgPGEgY2xhc3M9XCJuZ3gtYnRuIG5neC1idG4tbGlua1wiIChjbGljayk9XCJzaG93SGVhZGVyQWN0aW9uVGVtcGxhdGVNZW51KGNvbHVtbilcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cIm5neC1pY29uIG5neC1pY29uLW1vcmVcIj48L3NwYW4+XG4gICAgICAgIDwvYT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwibmd4LW1lbnUgbmd4LXRhYmxlX190YWJsZS1tZW51XCJcbiAgICAgICAgICAqbmdJZj1cImNvbHVtbi5rZXkgPT09IG9wZW5lZEhlYWRlckFjdGlvblRlbXBsYXRlXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgW25nVGVtcGxhdGVPdXRsZXRdPVwiY29sdW1uLmhlYWRlckFjdGlvblRlbXBsYXRlXCI+IDwvbmctY29udGFpbmVyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5neC10YWJsZV9fY29sdW1uLXJlc2l6ZXJcIiAqbmdJZj1cImNvbmZpZy5yZXNpemVDb2x1bW4gJiYgIWxhc3RcIj48L2Rpdj5cbiAgICA8L3RoPlxuICA8L25nLWNvbnRhaW5lcj5cbiAgPHRoXG4gICAgKm5nSWY9XCJcbiAgICAgIGNvbmZpZy5hZGRpdGlvbmFsQWN0aW9ucyB8fFxuICAgICAgY29uZmlnLmRldGFpbHNUZW1wbGF0ZSB8fFxuICAgICAgY29uZmlnLmNvbGxhcHNlQWxsUm93cyB8fFxuICAgICAgY29uZmlnLmdyb3VwUm93c1xuICAgIFwiXG4gICAgY2xhc3M9XCJuZ3gtdGFibGVfX2hlYWRlci1jZWxsLWFkZGl0aW9uYWwtYWN0aW9uc1wiXG4gID5cbiAgICA8ZGl2IGNsYXNzPVwibmd4LWRyb3Bkb3duXCIgI2FkZGl0aW9uYWxBY3Rpb25NZW51ICpuZ0lmPVwiY29uZmlnLmFkZGl0aW9uYWxBY3Rpb25zXCI+XG4gICAgICA8YSBjbGFzcz1cIm5neC1idG4gbmd4LWJ0bi1saW5rXCIgKGNsaWNrKT1cInNob3dNZW51KClcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJuZ3gtaWNvbiBuZ3gtaWNvbi1tZW51XCI+PC9zcGFuPlxuICAgICAgPC9hPlxuICAgICAgPHVsIGNsYXNzPVwibmd4LW1lbnUgbmd4LXRhYmxlX190YWJsZS1tZW51XCIgKm5nSWY9XCJtZW51QWN0aXZlXCI+XG4gICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAqbmdJZj1cImFkZGl0aW9uYWxBY3Rpb25zVGVtcGxhdGVcIlxuICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImFkZGl0aW9uYWxBY3Rpb25zVGVtcGxhdGVcIlxuICAgICAgICA+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgPC90aD5cbjwvdHI+XG48dHJcbiAgW3N0eWxlLmRpc3BsYXldPVwiY29uZmlnLnNlYXJjaEVuYWJsZWQgJiYgIWZpbHRlcnNUZW1wbGF0ZSA/ICd0YWJsZS1yb3cnIDogJ25vbmUnXCJcbiAgY2xhc3M9XCJuZ3gtdGFibGVfX3NlYXJjaC1oZWFkZXJcIlxuPlxuICA8dGggKm5nSWY9XCJjb25maWcuY2hlY2tib3hlcyB8fCBjb25maWcucmFkaW9cIj48L3RoPlxuICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBjb2x1bW4gb2YgY29sdW1uczsgbGV0IGNvbEluZGV4ID0gaW5kZXhcIj5cbiAgICA8dGhcbiAgICAgIFtuZ0NsYXNzXT1cImNvbHVtbi5jc3NDbGFzcyAmJiBjb2x1bW4uY3NzQ2xhc3MuaW5jbHVkZUhlYWRlciA/IGNvbHVtbi5jc3NDbGFzcy5uYW1lIDogJydcIlxuICAgICAgW2NsYXNzLnBpbm5lZC1sZWZ0XT1cImNvbHVtbi5waW5uZWRcIlxuICAgICAgW3N0eWxlLmxlZnRdPVwic3R5bGVTZXJ2aWNlLnBpbm5lZFdpZHRoKGNvbHVtbi5waW5uZWQsIGNvbEluZGV4KVwiXG4gICAgPlxuICAgICAgPHRhYmxlLWhlYWRlclxuICAgICAgICAqbmdJZj1cImdldENvbHVtbkRlZmluaXRpb24oY29sdW1uKVwiXG4gICAgICAgICh1cGRhdGUpPVwib25TZWFyY2goJGV2ZW50KVwiXG4gICAgICAgIFtjb2x1bW5dPVwiY29sdW1uXCJcbiAgICAgID5cbiAgICAgIDwvdGFibGUtaGVhZGVyPlxuICAgIDwvdGg+XG4gIDwvbmctY29udGFpbmVyPlxuICA8dGggKm5nSWY9XCJjb25maWcuYWRkaXRpb25hbEFjdGlvbnMgfHwgY29uZmlnLmRldGFpbHNUZW1wbGF0ZVwiPjwvdGg+XG48L3RyPlxuPG5nLWNvbnRhaW5lciAqbmdJZj1cImZpbHRlcnNUZW1wbGF0ZVwiPlxuICA8dHI+XG4gICAgPG5nLWNvbnRhaW5lciBbbmdUZW1wbGF0ZU91dGxldF09XCJmaWx0ZXJzVGVtcGxhdGVcIj4gPC9uZy1jb250YWluZXI+XG4gIDwvdHI+XG48L25nLWNvbnRhaW5lcj5cbiJdfQ==